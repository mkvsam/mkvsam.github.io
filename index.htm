<head>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<style>
 //  h1 { font-size:1.4rem; }
 //  	.nav-link i { vertical-align:middle; }
     #gen { padding:30px; background:#F0F0F0; }
//   #gen input[type=color] { height:38px; }
//	.input-group>input[type=text]:nth-child(2) { width:80px; }
//	.input-group>input[type=color] { width:50px; }
//   .btn-group a { color:#fff; }
//	.btn-group i { vertical-align:middle; }
//  	#chart_div { margin-top:10px; border:1px solid #ccc; width:100%; }
//	@media only screen and  (max-width:600px) {
//      #gen { padding:10px; }
//      .btn-group button:nth-child(5) { display:none; }
      /*.adslot_3 { display: none; }*/
//	}
</style>

</head>
<body>
<DIV style="color:YELLOW; background-color:#43CB85;font-size:20px; text-shadow: 2px 2PX 3PX RED">GRAPH TOOL </DIV>
<!--div id="wrapper"-->

<!--div id="lcol"-->
<!--div id="doc"-->



<!--h1 style="border:2px; border-style:SOLID; border-color:#43CB85;color:blue; ackground-color:#43CB85; font-size:150%">GRAPH TOOL</h1-->

<form id="gen" name="gen" onsubmit="return FALSE">



<!--div class="form-group"-->

<DIV style="color:red">STEPS: </DIV>
<DIV style="color:red">1. ENTER SPACE DELIMITED X & Y DATA VALUES IN AN ALTERNATIVE ORDER AS (x1 y1 x2 y2 ...)</DIV>
<DIV style="color:red">2. ENTER DATA SERIES 2 AND 3 IF NEEDED</DIV>
<DIV style="color:red">3. CHOOSE TRENDLINES TYPE FROM THE LIST. POLYNOMIAL IS CHOSEN AS DEFAULT</DIV>
<DIV style="color:red">4. CLICK DRAW TO PLOT THE DATA. HOVER MOUSE POINTER OVER CURVE TO READ REQUIRED X & Y VALUES</DIV>
<P><DIV> 
</DIV></P>
<label for="s1">Series1 data values (Eg. X1=35 Y1=3.6.....) </label>
<div class="input-group">
<input type="text" id="s1" name="data[]" placeholder="35 3.6 45 1.2 55 -1.9" class="form-control w-50">
<input type="text" name="desc[]" placeholder="Series1" class="form-control">
<input type="color" name="color[]" value="#219108" class="form-control w-10">
<select id="tsel1" class="form-control w-25">
<option>No trendline</option>
<option>Linear trendline</option>
<option>Exponential trendline</option>
<option selected="">Polynomial trendline</option>
</select>
</div>
</div>
<div class="form-group">
<label for="s2">Series2 data values (optional)</label>
<div class="input-group">
<input type="text" id="s2" name="data[]" placeholder="x1 y1 x2 y2 x3 y3 ..." class="form-control w-50">
<input type="text" name="desc[]" placeholder="Series2" class="form-control">
<input type="color" name="color[]" value="#DC3912" class="form-control w-10">
<select id="tsel2" class="form-control w-25">
<option>No trendline</option>
<option>Linear trendline</option>
<option>Exponential trendline</option>
<option selected="">Polynomial trendline</option>
</select>
</div>
</div>
<div class="form-group">
<label for="s3">Series3 data values (optional)</label>
<div class="input-group">
<input type="text" id="s3" name="data[]" placeholder="x1 y1 x2 y2 x3 y3 ..." class="form-control w-50">
<input type="text" name="desc[]" placeholder="Series3" class="form-control">
<input type="color" name="color[]" value="#800080" class="form-control w-10">
<select id="tsel3" class="form-control w-25">
<option>No trendline</option>
<option>Linear trendline</option>
<option>Exponential trendline</option>
<option selected="">Polynomial trendline</option>
</select>
</div>
</div>
<div class="form-group">
<label for="hmin">Horizontal axis (minimum and maximum X axis values can be changed for zoom in/out)</label>
<div class="input-group">
<input type="number" id="hmin" placeholder="min value" class="form-control">
<input type="number" id="hmax" placeholder="max value" class="form-control">
<input type="text" id="hlabel" name="hlabel" placeholder="hlabel" class="form-control">
</div>
</div>
<div class="form-group">
<label for="vmin">Vertical axis (minimum and maximum Y axis values can be changed for zoom in/out)</label>
<div class="input-group">
<input type="number" id="vmin" placeholder="min value" class="form-control">
<input type="number" id="vmax" placeholder="max value" class="form-control">
<input type="text" id="vlabel" name="vlabel" placeholder="Y axis label" class="form-control">
</div>
</div>
<div class="btn-group">
<button type="button" onclick="OnDraw()" title="Draw Graph" class="btn btn-primary mr-1"><i class="material-icons"></i> Draw</button>


<button type="button" onclick="OnReset()" title="Reset" class="btn btn-secondary"><i class="material-icons">Reset</i></button>
</div>
<div class="form-group">
<div id="chart_div"><div style="position: relative;"><div dir="ltr" style="position: relative; width: 600px; height: 390px;"><div aria-label="A chart." style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;"><svg width="600" height="390" aria-label="A chart." style="overflow: hidden;"><defs id="_ABSTRACT_RENDERER_ID_0"><clipPath id="_ABSTRACT_RENDERER_ID_1"><rect x="115" y="75" width="371" height="241"></rect></clipPath></defs><rect x="0" y="0" width="600" height="390" stroke="none" stroke-width="0" fill="#ffffff"></rect><g><text text-anchor="start" x="115" y="52.05" font-family="Arial" font-size="13" font-weight="bold" stroke="none" stroke-width="0" fill="#000000">Graph Title</text><rect x="115" y="41" width="371" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect></g><g><rect x="499" y="75" width="88" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><rect x="499" y="75" width="88" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><text text-anchor="start" x="530" y="86.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#222222">Series1</text></g><path d="M499,81.5L525,81.5" stroke="none" stroke-width="0" fill-opacity="1" fill="none"></path><circle cx="512" cy="81.5" r="4.5" stroke="none" stroke-width="0" fill="#3366cc"></circle></g></g><g><rect x="115" y="75" width="371" height="241" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><rect x="115" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="208" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="300" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="393" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="485" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="161" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#ebebeb"></rect><rect x="254" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#ebebeb"></rect><rect x="346" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#ebebeb"></rect><rect x="439" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#ebebeb"></rect><rect x="115" y="315" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="115" y="267" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="115" y="219" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="115" y="171" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="115" y="123" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="115" y="75" width="371" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect></g><g><rect x="115" y="75" width="1" height="241" stroke="none" stroke-width="0" fill="#333333"></rect><rect x="115" y="123" width="371" height="1" stroke="none" stroke-width="0" fill="#333333"></rect></g><g><path d="M115.5,417.89999999993597L119.2,412.54447999999996L122.9,407.22992L126.6,401.956319999936L130.3,396.72368L134,391.532L137.7,386.381279999936L141.4,381.27151999999995L145.1,376.20272L148.8,371.17487999993597L152.5,366.188L156.2,361.24208L159.9,356.33711999993596L163.6,351.47312L167.3,346.65008L171,341.86799999993605L174.7,337.12688L178.4,332.42672000000005L182.1,327.767519999936L185.8,323.14928L189.5,318.572L193.2,314.0356799999936L196.9,309.54032L200.60000000000002,305.08592L204.3,300.6724799999936L208,296.29999999999995L211.65131578947125,292.02520775623043L215.3026315789425,287.7903047091392L218.95394736841376,283.5952908587264L222.60526315788502,279.440166204992L226.25657894735625,275.3249307479168L229.90789473682753,271.2495844875392L233.55921052629876,267.2141274238208L237.21052631576998,263.2185595567808L240.86184210524124,259.2628808864192L244.51315789475873,255.34709141273598L248.16447368423002,251.4711911357312L251.81578947370124,247.6351800554048L255.4671052631725,243.83905817173758L259.1184210526437,240.082825484768L262.769736842115,236.36648199445762L266.42105263158624,232.6900277008256L270.0723684210575,229.053462603872L273.72368421052875,225.4567867035968L277.375,221.89999999999998L281.02631578947125,218.3831024930816L284.6776315789425,214.90609418282241L288.32894736841376,211.4689750692608L291.980263157885,208.0717451523584L295.6315789473563,204.7144044321344L299.28289473682753,201.3969529085888L302.9342105262988,198.1193905817216L306.58552631577004,194.88171745153278L310.2368421052413,191.6839335180032L313.8881578947587,188.5260387811712L317.53947368422996,185.4080332409984L321.1907894737012,182.329916897504L324.84210526317247,179.291689750688L328.4934210526437,176.2933518005504L332.144736842115,173.3349030470912L335.79605263158624,170.4163434903104L339.4473684210575,167.5376731301888L343.09868421052875,164.6988919667648L346.75,161.9L350.40131578947125,159.1409972299136L354.0526315789425,156.4218836565056L357.70394736841376,153.742659279776L361.355263157885,151.1033240997248L365.0065789473563,148.503878116352L368.65789473682753,145.9443213296384L372.3092105262988,143.4246537396032L375.96052631577004,140.94487534625983L379.61184210524124,138.50498614958528L383.26315789475876,136.10498614958527L386.91447368422996,133.74487534625985L390.5657894737012,131.4246537396128L394.2171052631725,129.14432132964032L397.8684210526437,126.90387811634432L401.519736842115,124.70332409972288L405.17105263158624,122.5426592797783L408.8223684210575,120.42188365650944L412.47368421052875,118.34099722991743L416.125,116.3L419.77631578947125,114.29889196675904L423.4276315789425,112.33767313019456L427.07894736841376,110.41634349030464L430.730263157885,108.5349030470912L434.3815789473563,106.69335180055424L438.0328947368275,104.89168975069184L441.6842105262988,103.129916897504L445.33552631577004,101.4080332409984L448.98684210524124,99.7260387811712L452.63815789475876,98.0839335180032L456.28947368422996,96.4817174515328L459.9407894737012,94.9193905817216L463.5921052631725,93.3969529085888L467.2434210526437,91.9144044321344L470.894736842115,90.47174515235841L474.54605263158624,89.0689750692608L478.1973684210575,87.7060941828224L481.84868421052875,86.3831024930816L485.5,85.1" stroke="#3366cc" stroke-width="2" stroke-opacity="0.5" fill-opacity="1" fill="none"></path></g></g><g><circle cx="208" cy="296.29999999999995" r="4.5" stroke="none" stroke-width="0" fill="#3366cc"></circle><circle cx="346.75" cy="161.9" r="4.5" stroke="none" stroke-width="0" fill="#3366cc"></circle><circle cx="485.5" cy="85.1" r="4.5" stroke="none" stroke-width="0" fill="#3366cc"></circle></g><g><g><text text-anchor="middle" x="115.5" y="335.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">0</text></g><g><text text-anchor="middle" x="208" y="335.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">2</text></g><g><text text-anchor="middle" x="300.5" y="335.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">4</text></g><g><text text-anchor="middle" x="393" y="335.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">6</text></g><g><text text-anchor="middle" x="485.5" y="335.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">8</text></g><g><text text-anchor="end" x="102" y="320.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">-10.0</text></g><g><text text-anchor="end" x="102" y="272.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">-7.5</text></g><g><text text-anchor="end" x="102" y="224.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">-5.0</text></g><g><text text-anchor="end" x="102" y="176.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">-2.5</text></g><g><text text-anchor="end" x="102" y="128.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">0.0</text></g><g><text text-anchor="end" x="102" y="80.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#444444">2.5</text></g></g></g><g><g><text text-anchor="middle" x="300.5" y="368.05" font-family="Arial" font-size="13" font-style="italic" stroke="none" stroke-width="0" fill="#222222">hlabel</text><rect x="115" y="357" width="371" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect></g><g><text text-anchor="middle" x="40.55" y="195.5" font-family="Arial" font-size="13" font-style="italic" transform="rotate(-90 40.55 195.5)" stroke="none" stroke-width="0" fill="#222222">vLabel</text><path d="M29.499999999999996,316L29.50000000000001,75L42.50000000000001,75L42.49999999999999,316Z" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></path></g></g><g></g></svg><div aria-label="A tabular representation of the data in the chart." style="position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden;"><table><thead><tr><th>x</th><th>Series1</th></tr></thead><tbody><tr><td>2</td><td>-9</td></tr><tr><td>5</td><td>-2</td></tr><tr><td>8</td><td>2</td></tr></tbody></table></div></div></div><div aria-hidden="true" style="display: none; position: absolute; top: 400px; left: 610px; white-space: nowrap; font-family: Arial; font-size: 13px;">Series1</div><div></div></div></div><div id="png"></div>
</div>
</form>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script src="/lib/utils/utils.js"></script>
<script>
   "use strict"
   var imgdata;
   var x,y;
   
   $( window ).on('unload', function() {
      localSave();
   });
   $( document ).ready(function() {
      document.getElementById("gen").onkeypress = function(e) { if( e.keyCode==13 ) OnDraw(); };
      google.charts.load("visualization", "1", {packages:["corechart"]});
      setGraphSize();
      try {
         localLoad();
      }
      catch(error) {
         console.error(error);
      }
      google.charts.setOnLoadCallback(drawChart);
   });
   
   function localLoad()
   {
      if (typeof Storage == 'undefined') return;
      var obj = localStorage.getItem('scatter-plot');
      if( obj==null || obj=='' ) return;
      var v=JSON.parse(obj);
      const title=document.getElementById("title");
      const data = document.gen['data[]'];
      const desc = document.gen['desc[]'];
      const color = document.gen['color[]'];
      title.value = v.title;
      data[0].value = v.series1.data;
      desc[0].value = v.series1.desc;
      color[0].value = v.series1.color;
      document.getElementById("tsel1").selectedIndex=v.series1.type;
      data[1].value = v.series2.data;
      desc[1].value = v.series2.desc;
      color[1].value = v.series2.color;
      document.getElementById("tsel2").selectedIndex=v.series2.type;
      data[2].value = v.series3.data;
      desc[2].value = v.series3.desc;
      color[2].value = v.series3.color;
      document.getElementById("tsel3").selectedIndex=v.series3.type;
      document.getElementById("hmin").value = v.haxis.min;
      document.getElementById("hmax").value = v.haxis.max;
      document.getElementById("hlabel").value = v.haxis.label;
      document.getElementById("vmin").value = v.vaxis.min;
      document.getElementById("vmax").value = v.vaxis.max;
      document.getElementById("vlabel").value = v.vaxis.label;
   }
   function localSave()
   {
      if (typeof Storage == 'undefined') return;
      const title=document.getElementById("title");
      const data = document.gen['data[]'];
      const desc = document.gen['desc[]'];
      const color = document.gen['color[]'];
      var itrend1=document.getElementById("tsel1").selectedIndex;
      var itrend2=document.getElementById("tsel2").selectedIndex;
      var itrend3=document.getElementById("tsel3").selectedIndex;
      var hmin = document.getElementById("hmin").value;
      var hmax = document.getElementById("hmax").value;
      var vmin = document.getElementById("vmin").value;
      var vmax = document.getElementById("vmax").value;
      var hlabel = document.getElementById("hlabel").value;
      var vlabel = document.getElementById("vlabel").value;
      var obj={
         title: title.value,
         series1:{data:data[0].value, desc:desc[0].value, color:color[0].value, type:itrend1},
         series2:{data:data[1].value, desc:desc[1].value, color:color[1].value, type:itrend2},
         series3:{data:data[2].value, desc:desc[2].value, color:color[2].value, type:itrend3},
         haxis:{min:hmin, max:hmax, label:hlabel },
         vaxis:{min:vmin, max:vmax, label:vlabel }
      };
      localStorage.setItem('scatter-plot', JSON.stringify(obj));
   }
   function setGraphSize()
   {
      x=$(window).width()-30;
      if( x>600 ) x=600;
      y=x/2+90;
   }
   function OnDraw()
   {
      drawChart();
   }
   function OnReset()
   {
      setGraphSize();
      OnDraw();
      document.gen.reset();
   }
   function OnZoomOut()
   {
      x*=0.9;
      y*=0.9;
      OnDraw();
   }
   function OnZoomIn()
   {
      x/=0.9;
      y/=0.9;
      OnDraw();
   }
   function drawChart() 
   {
      var i,k,j;
      var txt = document.gen.title.value;
      if( txt=='' ) txt="Graph Title";
      //var num = document.gen.num.selectedIndex+1;
      var data = document.gen['data[]'];
      var num=1;
      for(k=1; k<3; k++)
         if( data[k].value!='' ) num++;
      var arr=new Array();
      var ldesc = document.gen['desc[]'];
      arr[0] = new Array(num+1);
      var hLabel0 = document.gen.hlabel.value;
      if( hLabel0=='' ) hLabel0='x';
      //arr[0][0] = 'Task';
      arr[0][0] = hLabel0;
      for(var k=0; k<num; k++)
      {
         var ld = ldesc[k].value;
         if( ld=='' )
            arr[0][k+1] = 'Series'+(k+1);
         else
            arr[0][k+1] = ld;
      }
      
      for(var k=0,m=0; k<num; k++,m+=len)
      {
         var s = data[k].value;
         if( s=='' ) s="35 3.6 45 1.2 55 -1.9";
         s = s.trim().split(' ');
         var len=Math.floor(s.length/2);
         for(i=0; i<len; i++)
         {
            arr[m+i+1] = new Array(num+1);
            for(j=0; j<num; j++)
               arr[m+i+1][j+1] = null;
            arr[m+i+1][0] = parseFloat(s[2*i]);
            arr[m+i+1][k+1] = parseFloat(s[2*i+1]);
         }
      }
      var data2 = google.visualization.arrayToDataTable(arr);
      
      var hLabel = document.gen.hlabel.value;
      if( hLabel=='' ) hLabel='hLabel';
      var vLabel = document.gen.vlabel.value;
      if( vLabel=='' ) vLabel='vLabel';
      var hmin = document.getElementById("hmin").value;
      var hmax = document.getElementById("hmax").value;
      var vmin = document.getElementById("vmin").value;
      var vmax = document.getElementById("vmax").value;
      if( hmin=='' ) hmin=null;
      if( hmax=='' ) hmax=null;
      if( vmin=='' ) vmin=null;
      if( vmax=='' ) vmax=null;
      var itrend1=document.getElementById("tsel1").selectedIndex;
      var itrend2=document.getElementById("tsel2").selectedIndex;
      var itrend3=document.getElementById("tsel3").selectedIndex;
      var tlook=['linear','exponential','polynomial'];
      var trends={};
      //if( itrend1>0 ) trends['0']={ type: tlook[itrend1-1], visibleInLegend: true };
      if( itrend1>0 ) trends['0']={ type: tlook[itrend1-1] };
      if( itrend2>0 ) trends['1']={ type: tlook[itrend2-1] };
      if( itrend3>0 ) trends['2']={ type: tlook[itrend3-1] };      
      var color = document.gen['color[]'];
      var optcolors=[];
      for(var k=0; k<num; k++)
      {
         optcolors[k] = color[k].value;
      }
      var options = {
         title: txt,
         hAxis: {title: hLabel, minValue: hmin, maxValue: hmax},
         vAxis: {title: vLabel, minValue: vmin, maxValue: vmax},
         width: x,
         height: y,
         colors: optcolors,
         //chartArea: {width:'40%'},
         //legend: {
         //   alignment: 'end',
         //   position: 'top'
         //},
         trendlines: trends
         //trendlines: {
         //   0: { type: 'linear' },
         //   1: { type: 'linear' },
         //   2: { type: 'linear' },
         //   3: { type: 'linear' }
         //}
      };
      options.hAxis.gridlines = {color: '#CCC', count: 5};
      options.vAxis.gridlines = {color: '#CCC', count: 5};
      var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));
      google.visualization.events.addListener(chart, 'ready', function () {
         var data=chart.getImageURI();
         $("#download").prop("href", data);
         //$("#download").click();
         imgdata=data;
      });
      chart.draw(data2, options);
   }
   function OnSaveSVG()
   {
      var e = document.getElementById('chart_div');
      var svg = e.getElementsByTagName('svg')[0].outerHTML;
      svg = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>"+svg;
      svg = svg.replace("<svg", "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink= \"http://www.w3.org/1999/xlink\"");
      var a = document.createElement("a");
      var file = new Blob([svg], {type: 'text/plain'});
      a.href = URL.createObjectURL(file);
      a.download = "scatter-plot.svg";
      a.click();
   }
   function OnCopy()
   {
      alert("Press the Print button and right click on graph to copy");
   }
   function OnPrint()
   {
      var w = window.open('about:blank');
      var image = new Image();
      image.src = imgdata;
      w.document.write(image.outerHTML);

   }

   </script>

</html>
<p style="font-size:10; text-align:right;">This tool is extracted from rapidtables.com</p>
